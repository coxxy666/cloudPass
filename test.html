import 'bootstrap/dist/css/bootstrap.min.css';
import React, { useState } from 'react';
import '../index.css'; 

const AdminDashboard = () => {
  const [questionIn, setQuestionData] = useState({
    question: '',
    option1: '',
    option2: '',
    option3: '',
    option4: '',
    option5: ''
  });

  // New state to handle explanations for each option
  const [explanations, setExplanations] = useState({
    option1: '',
    option2: '',
    option3: '',
    option4: '',
    option5: ''
  });

  const [correctAnswer, setCorrectAnswer] = useState('');

  // Handle question and options input
  const handleChange = (e) => {
    const { id, value } = e.target;
    setQuestionData((prevData) => ({
      ...prevData,
      [id]: value,
    }));
  };

  // Handle explanations input
  const handleExplanationChange = (e) => {
    const { id, value } = e.target;
    setExplanations((prevExplanations) => ({
      ...prevExplanations,
      [id]: value,
    }));
  };

  const handleCorrectAnswerChange = (e) => {
    setCorrectAnswer(e.target.value);
  };

  const handleSubmit = (e) => {
    e.preventDefault();

    // Collect data on form submission
    const submittedData = {
      ...questionIn,
      correctAnswer,
      explanations
    };

    console.log('Submitted Question Data: ', submittedData);

    // Reset form fields
    setQuestionData({
      question: '',
      option1: '',
      option2: '',
      option3: '',
      option4: '',
      option5: '',
    });
    setExplanations({
      option1: '',
      option2: '',
      option3: '',
      option4: '',
      option5: '',
    });
    setCorrectAnswer('');
  };

  return (
    <div className="container mt-5">
      <h2>Admin Dashboard - Add Questions</h2>
      <form onSubmit={handleSubmit}>

        {/* Question */}
        <div className="mb-3">
          <label htmlFor="question" className="form-label">Question</label>
          <input
            type="text"
            className="form-control"
            id="question"
            value={questionIn.question}
            onChange={handleChange}
            placeholder="Enter the question"
          />
        </div>

        {/* Options */}
        {['option1', 'option2', 'option3', 'option4', 'option5'].map((option, index) => (
          <div key={index} className="mb-3">
            <label htmlFor={option} className="form-label">Option {index + 1}</label>
            <input
              type="text"
              className="form-control"
              id={option}
              value={questionIn[option]}
              onChange={handleChange}
              placeholder={`Enter option ${index + 1}`}
            />
          </div>
        ))}

        {/* Correct Answer Selection */}
        <div className="mb-3">
          <label htmlFor="correctAnswer" className="form-label">Select the Correct Answer</label>
          <select
            className="form-control"
            id="correctAnswer"
            value={correctAnswer}
            onChange={handleCorrectAnswerChange}
          >
            <option value="" disabled>Select correct answer</option>
            {['option1', 'option2', 'option3', 'option4', 'option5'].map((option, index) => (
              <option key={index} value={questionIn[option]}>
                {questionIn[option]}
              </option>
            ))}
          </select>
        </div>

        {/* Explanations for Each Option */}
        {['option1', 'option2', 'option3', 'option4', 'option5'].map((option, index) => (
          <div key={index} className="mb-3">
            <label htmlFor={option} className="form-label">Explanation for Option {index + 1}</label>
            <textarea
              className="form-control"
              id={option}
              value={explanations[option]}
              onChange={handleExplanationChange}
              rows="2"
              placeholder={`Explain why option ${index + 1} is correct or incorrect`}
            />
          </div>
        ))}

        {/* Submit Button */}
        <button type="submit" className="btn btn-primary">Submit</button>

      </form>
    </div>
  );
};

export default AdminDashboard;
